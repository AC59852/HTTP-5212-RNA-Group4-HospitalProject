@model HTTP_5212_RNA_Group4_HospitalProject.Models.ViewModels.PharmacyList
@{
    ViewBag.Title = "Pharmacies";
}

<main>
    <section class="pharmacies">
        <h1 class="pharmacies__title">All Pharmacies</h1>
        <div class="pharmacies__wrapper">
            @foreach (var Pharmacy in Model.Pharmacies)
            {
                <div class="pharmacies__item">
                    @{
                        string pic = "/Content/Images/Pharmacies/default.jpg";
                        string alt = "No Pharmacy Photo Provided";

                        if (Pharmacy.PharmacyHasPic)
                        {
                            pic = "/Content/Images/Pharmacies/" + Pharmacy.PharmacyID + "." + Pharmacy.PicExtension;
                            alt = "Photo of " + Pharmacy.PharmacyName + " Located at " + Pharmacy.PharmacyLocation;
                        }
                    }
                    <a href="/Pharmacy/Details/@Pharmacy.PharmacyID" class="pharmacies__link">
                        <img src="@pic" alt="@alt" class="pharmacies__image"/>
                        <h3 class="pharmacies__name">@Pharmacy.PharmacyName</h3>
                    </a>
                </div>
            }
        </div>
        @if (Model.IsAdmin)
        {
            <div class="pharmacies__new">
                <a href="/Pharmacy/New">Add Pharmacy</a>
            </div>
        }
    </section>
</main>
<style>
    .pharmacies {
        width: 90%;
        margin: 0 auto;
    }

    .pharmacies__title { 
        font-family: 'Rubik', sans-serif;
        font-weight: bold;
        color: #3A3A3A;
    }

    .pharmacies__wrapper {
        display: flex;
        flex-wrap: wrap;
        max-width: 1400px;
        gap: 40px;
        margin: 25px auto;
        justify-content: center;
    }

    .pharmacies__item {
        flex: 1 0 auto;
        text-align:center;
        max-width: 410px;
        width: 100%;
    }

    .pharmacies__name {
        margin: 19px 0;
        color: #3A3A3A;
        font-family: 'Rubik', sans-serif;
        font-size: 18px;
        position: relative;
    }

    .pharmacies__name::after {
        position: absolute;
        content: '';
        width: 60%;
        max-width: 130px;
        height: 4px;
        background: #3A3A3A;
        left: 50%;
        transform: translateX(-50%);
        bottom: -10px;
    }

    .pharmacies__image {
        width: 100%;
        max-width: 350px;
        height: 220px;
        object-fit: cover;
        box-shadow: 0px 4px 10px rgba(111, 128, 143, 0.49);
        border-radius: 15px;
    }

    .pharmacies__new { text-align: center; }

    .pharmacies__new a {
        font-family: 'Rubik', sans-serif;
        color: #3A3A3A;
        border-bottom: solid 4px #3A3A3A;
        padding-bottom: 5px;
        font-size: 18px;
    }

    @@media screen and (min-width: 600px) {
        .pharmacies__item {
            width: 33%;
        }
    }

    @@media screen and (min-width: 768px) {
        .pharmacies { padding-top: 60px }

        .container {
            width: 100% !important;
            max-width: 1400px;
        }

        .pharmacies__wrapper {
            gap: 30px;
            margin: 60px 0;
        }
    }

    @@media screen and (min-width: 992px) {
        .pharmacies {
            padding-top: 20px
        }
    }
</style>